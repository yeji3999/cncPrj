<!DOCTYPE html>
<html lang="ko" style="overflow-y: hidden;">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link rel="icon" href="<%= BASE_URL %>favicon.ico">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/earlyaccess/nanumgothic.css">
  <link href="https://cdn.jsdelivr.net/npm/@mdi/font@4.x/css/materialdesignicons.min.css" rel="stylesheet">
  <link rel="stylesheet" href="TemplateData/style.css">
  <title>HN Inc</title>
  <style>
    html,
    body {
      background: #2b2d30;
      margin: 0;
      font-family: 'Nanum Gothic', sans-serif
    }
    .opened{
      display: block;
    }
    .closed{
      display: none;
    }

  </style>
</head>

<body>
  <div id="app"></div>
</body>

<script>

function stepNum(number){
  switch(number){
    case 1 :
      document.getElementById("headerFacInfo").innerText  = "Workshop1"
      break;
    case 2 :
      document.getElementById("headerFacInfo").innerText  = "Workshop2"
      break;
    case 3 :
      document.getElementById("headerFacInfo").innerText  = "Workshop3"
      break;
    case 11 :
      document.getElementById("headerFacInfo").innerText  = "Workshop1  |  Line1"
      break;
    case 12 :
      document.getElementById("headerFacInfo").innerText  = "Workshop1  |  Line2"
      break;
    case 21 :
      document.getElementById("headerFacInfo").innerText  = "Workshop2  |  Line1"
      break;
    case 22 :
      document.getElementById("headerFacInfo").innerText  = "Workshop2  |  Line2"
      break;
    case 31 :
      document.getElementById("headerFacInfo").innerText  = "Workshop3  |  Line1"
      break;
    case 32 :
      document.getElementById("headerFacInfo").innerText  = "Workshop3  |  Line2"
      break;
    default:
      document.getElementById("headerFacInfo").innerText  = "View All Factory"
    }  
  }

function Change_StepNumber(number) {
  if(number==""){
    console.log("null")
  }
  stepNum(number) // 받은 넘버에 따라 현재 스텝정보를 출력하는 함수 호출
  let opStep = String(number).length
  if(opStep == 1){
    selectFac(number)
  }else if(opStep == 2){
    selectLine(number)
  }else if(opStep == 3){
    opPageMove(number) // 받은 넘버에 따라 버튼 이벤트가 실행되는 함수 호출
  }
}
function opPageMove(number){
  location.href = "op" + number
}
function selectFac(number){
  let treeNode  = document.getElementsByClassName('tree-node')
  for(let i = 0; i<treeNode.length; i++){

    if(number == treeNode[i].dataset.id){
      // console.log("sdfsfefefwfe",a[i].children[1].className == "tree-children")
      treeNode[i].className += ' selected';
      // console.log("22222222222222222222222222222222",treeNode[i].children[1].className == "tree-children closed")
      if(treeNode[i].children[1].className == "tree-children closed"){
        treeNode[i].children[1].className+= ' opened'
        treeNode[i].children[1].classList.remove("closed") 
        //다른 열려있는거 닫기
      // }else if(treeNode[i].children[1].className == "tree-children opened"){
      //   alert("FFFSFWF")
       }

    }else if(number != treeNode[i].dataset.id){
      treeNode[i].classList.remove('selected')
    }  
  }
}
function selectLine(number){
  let treeNode  = document.getElementsByClassName('tree-node')
  for(let i = 0; i<treeNode.length; i++){
    // console.log(a[i].dataset.id)
    if(number == treeNode[i].dataset.id){
      treeNode[i].className += ' selected';
      if(treeNode[i].children[1].className == "tree-children closed"){
        treeNode[i].children[1].className+= ' opened'
        treeNode[i].children[1].classList.remove("closed")
      }
    }else{
      treeNode[i].classList.remove('selected')
    }
  }
}
 </script>
</html>